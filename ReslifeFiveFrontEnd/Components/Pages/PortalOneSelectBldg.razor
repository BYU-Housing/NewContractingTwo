@page "/portalOneSelectBuilding"
@inject NavigationManager NavigationManager
@using Microsoft.AspNetCore.Components

<h3>Select A Building</h3>
<p>Selected Area: @Area</p>

<div class="progress">
    <div class="progress-bar"
         role="progressbar"
         style="width: 20%;"
         aria-valuenow="20"
         aria-valuemin="0"
         aria-valuemax="100">
        Step 2 of 10
    </div>
</div>

@if (Area == 1)
{
    <h4>Helaman Buildings</h4>
    <ul>
        @foreach (var building in HelamanBuildings)
        {
            <li>@building</li>
        }
    </ul>
}
else if (Area == 2)
{
    <h4>Heritage Buildings</h4>
    <ul>
        @foreach (var building in HeritageBuildings)
        {
            <li>@building</li>
        }
    </ul>
}
else if (Area == 3)
{
    <h4>Riviera Buildings</h4>
    <ul>
        @foreach (var building in RivieraBuildings)
        {
            <li>@building</li>
        }
    </ul>
}
else if (Area == 4)
{
    <h4>Wyview Buildings</h4>
    <ul>
        @foreach (var building in WyviewBuildings)
        {
            <li>@building</li>
        }
    </ul>
}
else if (Area.HasValue)
{
    <p>No buildings are available for Area @Area.</p>
}
else
{
    <p>Area not specified. Please select an area.</p>
}

@code {
    [Parameter]
    [SupplyParameterFromQuery]
    public int? Area { get; set; } // Allow nullable in case the parameter is not provided

    private List<string> HelamanBuildings = new()
    {
        "Hinckley", 
        "Chipman", 
        "David John", 
        "Taylor", 
        "Stover", 
        "Budge", 
        "Merrill", 
        "May", 
        "Building 9"
    };

    private List<string> HeritageBuildings = Enumerable.Range(2, 15) // Generates numbers from 2 to 16
                                                        .Select(i => $"Building {i}")
                                                        .ToList();

    private List<string> RivieraBuildings = Enumerable.Range('A', 12) // Generates letters A to L
                                                      .Select(i => ((char)i).ToString())
                                                      .ToList();

    private List<string> WyviewBuildings = Enumerable.Range(1, 11) // Generates numbers from 1 to 11
                                                     .Select(i => $"WP Building {i}")
                                                     .ToList();

    protected override void OnInitialized()
    {
        if (Area == null)
        {
            Area = 0; // Set a default value if Area is not provided
        }
    }
}
