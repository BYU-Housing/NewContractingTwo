@page "/createTestUser"
@inject IGenService GenService
@inject NavigationManager NavigationManager

<h3>Create Test User</h3>

<div>
    <label for="nameInput">Enter Name:</label>
    <input @bind="Name" @bind:event="oninput" id="nameInput" placeholder="Enter a name" />
</div>

<div>
    <label for="netIdInput">Enter NetID:</label>
    <input @bind="NetID" @bind:event="oninput" id="netIdInput" placeholder="Enter a NetID" />
</div>

<div>
    <label for="agreementPeriodInput">Select Agreement Period:</label>
    <select @bind="AgreementPeriod" id="agreementPeriodInput">
        <option value="">-- Select an Agreement Period --</option>
        <option value="3">Fall Winter 2025</option>
        <option value="4">Winter 2025</option>
        <option value="5">Spring 2025</option>
        <option value="6">Summer 2025</option>
        <option value="7">Fall Winter 2025</option>
    </select>
</div>

<button @onclick="NavigateToSelectAgreementPeriod">Submit</button>

@code {
    [Parameter]
    public string? Name { get; set; }

    [Parameter]
    public string? NetID { get; set; }

    [Parameter]
    public int? AgreementPeriod { get; set; }

    private void NavigateToSelectAgreementPeriod()
    {
        // Navigate to the new page and include Name, NetID, and AgreementPeriod as query parameters
        var newUri = $"selectAgreementPeriod?Name={Uri.EscapeDataString(Name ?? "")}" +
                     $"&NetID={Uri.EscapeDataString(NetID ?? "")}" +
                     $"&AgreementPeriod={AgreementPeriod}";
        NavigationManager.NavigateTo(newUri);
    }
}
