@page "/metricContracting"
@inject IGenService GenService

<h3>Contracting Metrics</h3>
<p>This is the Test Version of the Block Manager.</p>

<div class="container-fluid vh-100">
    <h4>Total Count of BlockTest Rows (AgreementPeriod = 3): @BlockTestCount</h4>
</div>

@code {
    private int BlockTestCount;

    protected override async Task OnInitializedAsync()
    {
        await LoadBlockTestCount();
    }

    private async Task LoadBlockTestCount()
    {
        // Assuming GenService.GetModel<T>() returns an IQueryable<T>
        BlockTestCount = await Task.Run(() =>
            GenService.GetModel<BlockTest>().Count(bt => bt.AgreementPeriod == 3));
    }
}
